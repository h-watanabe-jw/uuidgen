<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width = device-width, initial-scale = 1.0, minimum-scale = 1.0, maximum-scale = 1.0" />
  <title>uuidgen</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.webmanifest" />
</head>
<body>
  <h1>uuidgen</h1>
  <pre><span>xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx</span></pre>
  <p id="author">Generated by ??????????</p>
  <p><input type="checkbox" id="upper" /><label for="upper">upper</label></p>
    <button id="copy" onclick=""><svg fill="#fff" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon d-inline-block">
    <path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path>
  </svg>
  <svg fill="#fff" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-inline-block d-none">
    <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
  </svg>
</button>
  <p><button id="gen">generator</button></p>
  <p id="version">version: 0.2.2</p>
<script type="text/javascript" src="uuidgen.js" charset="UTF-8"></script>
<script type="text/javascript">
let query = new Proxy(window, {
  get(target, prop){
    return target.document.querySelector(prop);
  }
});

query['#gen'].onclick = function() {
  const data = uuidgen();
  if(query['#upper'].checked){
    query.span.innerText = data.result.toLocaleUpperCase();
    query['#author'].innerText = data.author;
  }else{
    query.span.innerText = data.result;
    query['#author'].innerText = data.author;
  }
};

query['#copy'].onclick = function() {
  if(query.pre.innerText === "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx" ||
  query.pre.innerText === "XXXXXXXX-XXXX-4XXX-YXXX-XXXXXXXXXXXX")return;
  navigator.clipboard.writeText(
    query.pre.innerText
  ).then(
    function() {
      query['.octicon-copy'].classList.add('d-none');
      query['.octicon-check'].classList.remove('d-none');
      setTimeout(function() {
        query['.octicon-copy'].classList.remove('d-none');
        query['.octicon-check'].classList.add('d-none');
      }, 1800);
    }
  )
};

query['#upper'].onchange = function() {
  if(query['#upper'].checked){
    query.span.innerText = query.span.innerText.toLocaleUpperCase();
  }else{
    query.span.innerText = query.span.innerText.toLocaleLowerCase(); 
  }
}
</script>
<script type="text/javascript" src="app.js" charset="UTF-8"></script>
</body>
</html>